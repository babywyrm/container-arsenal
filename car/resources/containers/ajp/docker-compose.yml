version: '3.7'

services:

  car.ajp:
    container_name: car.ajp
    build: .
    image: car/ajp
    environment:
      HOST: ${car_target_host}
      PORT: ${car_target_port}
    volumes:
      - ${car_log_folder}:/var/log/apache2
      - ./config/httpd.conf:/etc/apache2/httpd.conf
      - ./config/ajp.conf:/etc/apache2/ajp.conf
      - ./config/jk_workers.properties:/etc/apache2/jk_workers.properties
      - ./scripts/start.sh:/scripts/start.sh
    ports:
      - "127.0.0.1:${car_http_port}:80"
